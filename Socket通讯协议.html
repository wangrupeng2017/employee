<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601505 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1753"/>

<div>
<span><div><div><span style="font-size: 12pt; font-weight: bold;">Socket通讯协议:</span></div><div><span style="color: rgb(54, 101, 238); font-weight: bold;">// 公共数据结构</span></div><hr/><div><span style="color: rgb(250, 122, 0); font-weight: bold;">1.请求类型:</span></div><div><span style="font-weight: bold;">typedef enum RequestType {</span></div><div><span style="font-weight: bold;">    Login                    = 1,</span></div><div><span style="font-weight: bold;">    Quit                      = 2,</span></div><div><span style="font-weight: bold;">    EmployeeQuery   = 3,   </span></div><div><span style="font-weight: bold;">    EmployeeModify = 4,</span></div><div><span style="font-weight: bold;">    EmployeeAdd      = 5,</span></div><div><span style="font-weight: bold;">    EmployeeDelete  = 6,</span></div><div><span style="font-weight: bold;">    LogsQuery           = 7,</span></div><div><span style="font-weight: bold;">} RequestType;</span></div><div><span style="color: rgb(250, 122, 0); font-weight: bold;">2.响应结果:</span></div><div><span style="font-weight: bold;">typedef enum ResultStatus {</span></div><div><span style="font-weight: bold;">    Success = 0,</span></div><div><span style="font-weight: bold;">    Failed    = 1,</span></div><div><span style="font-weight: bold;">} ResultStatus;</span></div><div><span style="color: rgb(250, 122, 0); font-weight: bold;">3..请求头信息结构体:</span></div><div><span style="font-weight: bold;">typedef struct RequestInfo {</span></div><div><span style="font-weight: bold;">    RequestType type;</span></div><div><span style="font-weight: bold;">    uint        size;</span></div><div><span style="font-weight: bold;">} RequestInfo;</span></div><div><span style="color: rgb(250, 122, 0); font-weight: bold;">4.响应头信息结构体:</span></div><div><span style="font-weight: bold;">typedef struct ResponseInfo {</span></div><div><span style="font-weight: bold;">    RequestType  type;</span></div><div><span style="font-weight: bold;">    uint                 size;</span></div><div><span style="font-weight: bold;">    ResultStatus   result;</span></div><div><span style="font-weight: bold;">    char                 message[20];</span></div><div><span style="font-weight: bold;">} ResponseInfo;</span></div><div><br/></div><div><br/></div><div><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px; color: rgb(54, 101, 238); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">// 请求/响应方式说明: </span></span></div><hr/><div><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">eg: 请求方式</span></span></div><div><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">{</span></span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    RequestInfo req_info;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    LoginModel req_data;</span></div><div><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 13px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">}</span></span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">首先使用socket对象 write(sockfd, </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">req_info, sizeof(</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">req_info</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">)</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">); 发送请求信息; </span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">       请求信息内容为</span> <span style="color: rgb(77, 206, 29); font-family: Arial; font-weight: bold;">请求的操作枚举(登录/退出/添加用户/查询用户/...) 和 req_data的长度</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">然后使用socket对象 write(sockfd, req_data, sizeof(req_data)); 发送请求数据;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">       服务器接收到req_info根据</span> <span style="color: rgb(77, 206, 29); font-family: Arial; font-weight: bold;">操作类型 和 req_data长度</span> <span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">接收并转化req_data数据</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">       然后服务器进行对应的操作.</span></div><div><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br/></span></div><div><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">eg: 响应方式</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">{</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    </span><span style="font-weight: bold;">R</span><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">esponseInfo </span><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">res_info</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">; </span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">E</span><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">mployee</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">QueryResult </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">res_data</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">}</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">首先使用socket对象 write(sockfd, </span><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">res_info</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">, sizeof(</span><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">res_info</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">)</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">); 发送响应信息;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">       响应信息包含</span> <span style="color: rgb(77, 206, 29); font-family: Arial; font-weight: bold;">响应类型 / 处理结果 / 结果描述 / 响应数据大小</span> <span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">等信息;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">然后使用s</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">ocket对象 write(sockfd, </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">res_data</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">, sizeof(</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">res_data</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">)</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">); 发送响应</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">数据;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">       服务器接收到</span><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">res_info</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">根据 </span><span style="color: rgb(77, 206, 29); font-family: Arial; font-weight: bold;">响应类型 / 处理结果 / 结果描述 / 响应数据大小</span> <span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">接收并转化req_data数据</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">   </span><span style="color: rgb(255, 0, 0); font-family: Arial; font-weight: bold;">注意: res_data可能为数组</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">, 需要根据size判断数组数量 循环接收.</span></div><div><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br/></span></div><div><span style="color: rgb(54, 101, 238); font-family: Arial; font-weight: bold;">// 通用请求接口</span></div><hr/><div><span style="color: rgb(250, 122, 0); font-family: Arial; font-weight: bold;">1.登录接口:</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    请求参数: </span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    typedef struct LoginModel {</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        char name[20];</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        char pwd[20];</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    } LoginModel;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        {</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        RequestInfo req_info;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        LoginModel req_data;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        };</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    响应结果:</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    typedef struct LoginResult {</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        char name[20];</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        uint empno;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    } LoginResult;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        {</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        </span><span style="font-weight: bold;">R</span><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">esponseInfo res_info;</span></div><div><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">        </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">LoginResult </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">res_data;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        }</span></div><div><span style="color: rgb(250, 122, 0); font-family: Arial; font-weight: bold;">2.退出接口: </span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    请求参数:</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    typedef struct QuitModel {</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">uint empno;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    } QuitModel;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        {</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    RequestInfo req_info; </span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">   </span> <span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">QuitModel </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">req_data;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        }</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    响应结果:</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">      {</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    </span><span style="font-weight: bold;">R</span><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">esponseInfo res_info;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">      </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">}</span></div><div><br/></div><div><span style="color: rgb(54, 101, 238); font-family: Arial; font-weight: bold;">// 员工相关接口</span></div><hr/><div><span style="color: rgb(250, 122, 0); font-family: Arial; font-weight: bold;">3.信息查询接口:</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    请求参数:</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    typedef struct EmployeeQueryModel {</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        char name[20];</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        uint empno;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    } EmployeeQueryModel;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">{</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    RequestInfo req_info; </span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">   </span> <span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">E</span><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">mployee</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">QueryModel </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">req_data;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        }</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    响应结果:</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    typedef struct EmployeeQueryResult {</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        uint  empno;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        char  name[20];</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        char  pwd[20];</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        uchar sex;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        uchar age;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        uint  salary;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        char  department[20];</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    } EmployeeQueryResult;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">{</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">   </span> <span style="font-weight: bold;">R</span><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">esponseInfo </span><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">res_info</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">; </span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">   </span> <span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">E</span><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">mployee</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">QueryResult </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">res_data</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        }</span></div><div><span style="color: rgb(250, 122, 0); font-family: Arial; font-weight: bold;">4.信息修改接口:</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    请求参数:</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    typedef struct EmployeeModifyModel {</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        uint  empno;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        char  name[20];</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        char  pwd[20];</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        uchar sex;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        uchar age;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        uint  salary;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        char  department[20];</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    } EmployeeModifyModel;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        {</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">          </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">RequestInfo req_info; </span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">     </span> <span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">E</span><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">mployee</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">ModifyModel </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">req_data;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        }</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    响应结果:</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">      </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">{</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">   </span> <span style="font-weight: bold;">R</span><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">esponseInfo </span><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">res_info</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">; </span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">     </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">  }</span></div><div><span style="color: rgb(250, 122, 0); font-family: Arial; font-weight: bold;">5.添加员工接口:</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    请求参数:</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    typedef struct EmployeeCreateModel {</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;"><span>    </span><span>    </span></span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">uint  empno;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        char  name[20];</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        char  pwd[20];</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        uchar sex;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        uchar age;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        uint  salary;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        char  department[20];</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    } EmployeeCreateModel;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        {</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">  </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">RequestInfo req_info; </span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">     </span> <span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">EmployeeCreateModel</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;"> </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">req_data;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        }</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    返回结果:</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    typedef struct EmployeeCreateResult {</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        uint  empno;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        char  name[20];</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        char  pwd[20];</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    } EmployeeCreateResult;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        {</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">   </span> <span style="font-weight: bold;">R</span><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">esponseInfo </span><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">res_info</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">; </span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">EmployeeCreateResult res_data;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        }</span></div><div><span style="color: rgb(250, 122, 0); font-family: Arial; font-weight: bold;">6.删除员工接口:</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    请求参数:</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    typedef struct EmployeeDeleteModel {</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        uint empno;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;"><span>    </span><span>    uint del_empno;</span><br/></span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    } EmployeeDeleteModel;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        {</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">  </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">RequestInfo req_info; </span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">     </span> <span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">E</span><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">mployee</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">DeleteModel</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;"> </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">req_data;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        }</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    返回结果:</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">{</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">   </span> <span style="font-weight: bold;">R</span><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">esponseInfo </span><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">res_info</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">; </span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">}</span></div><div><br/></div><div><span style="color: rgb(54, 101, 238); font-family: Arial; font-weight: bold;">// 操作日志</span></div><hr/><div><span style="color: rgb(250, 122, 0); font-family: Arial; font-weight: bold;">7.查询操作历史记录</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    请求参数:</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    typedef struct LogQueryModel {</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">uint empno;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        char date[20];</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    } LogQueryModel;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        {</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">  </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">RequestInfo req_info; </span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">     </span> <span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">OperationLogModel</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;"> </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">req_data;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        }</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    返回结果:</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    typedef struct LogQueryResult {</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        char name[20];</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        char describe[50];</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        char date[20];</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    } LogQueryResult;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">{</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">    </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">   </span> <span style="font-weight: bold;">R</span><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">esponseInfo </span><span style="font-size: 13px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(46, 48, 51); font-family: Arial, &quot;Microsoft YaHei&quot;, 微软雅黑, 宋体, &quot;Malgun Gothic&quot;, Meiryo, sans-serif; font-variant: normal; font-weight: bold; line-height: 19px;">res_info</span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">; </span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">       </span> <span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">OperationLogResult res_data;</span></div><div><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">        </span><span style="color: rgb(46, 48, 51); font-family: Arial; font-weight: bold;">}</span></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></div><div><br/></div></span>
</div></body></html> 